
<html>
  <head>
    <title>Farming Expert</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
      integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='style2.css') }}"
    />
  </head>

<body>

    <div class="">
        <div class="navbarr">
            {% if current_user.is_authenticated %}

        <a href="{{ url_for('home') }}" class="{% if active_page == 'home' %}active{% endif %}">Home</a>
        <a href="{{ url_for('advisor') }}" class="{% if active_page == 'advisor' %}active{% endif %}">Advisor</a>
        <a href="{{ url_for('weatherandsoil') }}" class="{% if active_page == 'weatherandsoil' %}active{% endif %}">Weather&Soil</a>
        <a href="{{ url_for('farminginfo') }}" class="{% if active_page == 'farminginfo' %}active{% endif %}">Grow</a>
        <a href="{{ url_for('viewposts') }}" class="{% if active_page == 'viewposts' %}active{% endif %}">Community</a>
        <a href="{{ url_for('about') }}" class="{% if active_page == 'about' %}active{% endif %}">About</a>
        <a href="{{ url_for('home') }}">Contact</a>
        <a href="{{ url_for('store') }}" class="{% if active_page == 'store' %}active{% endif %}">Store</a>
        <a href="{{ url_for('addproduct') }}" class="{% if active_page == 'addproduct' %}active{% endif %}">Sell</a>
        <a href="#">Cart({{session['Shoppingcart']|length}})</a>

        <div class="dropdownn2">
          <button class="dropbtnn {% if active_page == 'profile' %}active{% endif %}">Profile</button>
          <div class="dropdownn-contentt">
            <a href="{{ url_for('account') }}">Account</a>
            <a href="{{ url_for('account') }}">Settings</a>
            <a href="{{ url_for('logout') }}">Logout</a>
          </div>
        </div>

        <script src="{{ url_for('static', filename='script2.js') }}"></script>
        {% else %}
        <a href="{{ url_for('home') }}" class="{% if active_page == 'home' %}active{% endif %}">Home</a>
        <a href="{{ url_for('about') }}" class="{% if active_page == 'about' %}active{% endif %}">About</a>
        <a href="{{ url_for('home') }}">Contact</a>

        <div class="dropdownn2">
          <button class="dropbtnn">Profile</button>
          <div class="dropdownn-contentt">
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Sign-Up</a>
          </div>
        </div>
        {% endif %}
          </div>
    </div>




    <div class="container-fluid h-100" style="margin-top: 3%;">
        <div class="row justify-content-center h-100">
            <div class="col-md-8 col-xl-6 chat">
                <div class="h2" style="color: black;">
                    <h2>Make the world a better place!</h2>
                </div>
                <form method="POST" action="">
                <div class="card">
                    <div class="arrow">
                        <a href="javascript:history.back()">
                            <i class="fas fa-arrow-left" style="margin-top: 100%; margin-left:100%; color: black; display: flex; "></i>
                        </a>
                    </div>
                    
                    <div class="form">
                            <div class="button">
                                <button class="button1" type="submit">GENERATE</button><br><br>
                            </div>

                            <div class="content-container">
                                <h2 class="h2">Response:</h2>
                            </div>
                            <div class="textarea-container">
                                <textarea  rows="20" style="width: 90%" readonly>{{ assistant_response }}</textarea>
                            </div>
                            <div><br></div>
                            <div class="images">
                                <img src="data:image/png;base64,{{ image_data }}" onerror="this.style.display='none';" class="hidden-img">
                                <img src="data:image/png;base64,{{ image2_data }}" onerror="this.style.display='none';" class="hidden-img"><br>
                                <img src="data:image/png;base64,{{ image3_data }}" onerror="this.style.display='none';" class="hidden-img">
                                <img src="data:image/png;base64,{{ image4_data }}" onerror="this.style.display='none';" class="hidden-img">
                            </div>                        
                    </div>
                </div>
                
                <div><br></div>
                <div><br></div>
                <div><br></div>   

                <div class="card">
                    <div class="content-container">
                        <h2 class="h2">Pest Control Advice:</h2>
                    </div>
                    <div class="textarea-container">
                        <textarea  rows="20" style="width: 90%" readonly>{{ pest_control_advice }}</textarea>
                    </div>
                </div>
            </form>
            </div>
        </div>
    </div>
<!--
    <script>
        const form = document.querySelector('form');
        const chatBox = document.getElementById('response');
        const pestControlButton = document.getElementById('pest-control-button');
        const pestControlAdviceBox = document.getElementById('pest-control-advice');
    
        // Event listener for the pest control button
        pestControlButton.addEventListener('click', async () => {
            const cropSuggestions = chatBox.value; // Retrieve the crop suggestions from the response textarea
    
            // Send the crop suggestions to the server to get pest control advice
            const response = await fetch('/get_pest_control', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ assistantResponse: cropSuggestions }), // Send the assistant's response
            });
    
            if (response.ok) {
                const { pestControlAdvice } = await response.json();
                
                // Display the pest control advice in the new textarea
                pestControlAdviceBox.value = pestControlAdvice;
            } else {
                alert('Error: Unable to get pest control advice.');
            }
        });
    </script>
-->
</body>

</html>